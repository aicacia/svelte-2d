import{S as D,i as K,s as z,M as A,N as I,m as N,h as y,n as o,b as E,B,X as ee,J as C,q as Ne,r as Pe,F as H,u as Le,e as W,w as ne,a as G,x as re,c as j,y as se,f as X,g as he,t as R,d as fe,z as ie,Q}from"./index-609695e7.js";import{c as te,g as F,a as Oe,b as Ce,W as Ye,H as Ue,O as Be,P as Ge,t as je,f as ce,s as _e,M as He,d as Je,I as Ve,e as le}from"./Scene-56b2ae15.js";import{w as Z}from"./index-20c24c2d.js";const ue={},U={};class oe{constructor(e,t){if(e!==ue)throw new TypeError("Options can only be created with the some or none functions");this._value=t}static some(e){return L(e)}static none(){return P()}static from(e){return e!=null?L(e):P()}static fromJSON(e){return oe.from(e)}isNone(){return this._value===U}isSome(){return!this.isNone()}expect(e){if(this.isSome())return this._value;throw new Error(typeof e=="function"?e():e)}unwrap(){return this.expect("Tried to unwrap value of none Option")}unwrapOr(e){return this.isSome()?this._value:e}unwrapOrElse(e){return this.isSome()?this._value:e()}map(e){return this.isSome()?L(e(this._value)):P()}mapOr(e,t){return this.isSome()?L(e(this._value)):L(t)}mapOrElse(e,t){return this.isSome()?L(e(this._value)):L(t())}flatMap(e){return this.isSome()?e(this._value):P()}flatMapOr(e,t){return this.isSome()?e(this._value):t}flatMapOrElse(e,t){return this.isSome()?e(this._value):t()}and(e){return this.isSome()?e:P()}andThen(e){return this.isSome()?e(this._value):P()}or(e){return this.isNone()?e:this}orElse(e){return this.isNone()?e():this}xor(e){const t=this.isSome(),r=e.isSome();return t&&!r?this:!t&&r?e:P()}filter(e){return this.isSome()&&e(this._value)?this:P()}getOrInsert(e){return this.isNone()&&(this._value=e),this}getOrInsertWith(e){return this.isNone()&&(this._value=e()),this}clear(){return this._value=U,this}take(){if(this.isSome()){const e=this._value;return this._value=U,L(e)}else return P()}from(e){return e!=null?this._value=e:this.clear(),this}replace(e){return this._value=e,this}ifSome(e,t){return this.isSome()?e(this._value):t&&t(),this}ifNone(e,t){return this.isNone()?e():t&&t(this._value),this}toJSON(){return this.unwrapOr(null)}toJS(){return this.unwrapOr(null)}[Symbol.iterator](){return new De(this._value)}}class De{constructor(e){this.value=e}next(){if(this.value===U)return{done:!0,value:void 0};{const e=this.value;return this.value=U,{done:!1,value:e}}}}const L=n=>new oe(ue,n),P=()=>new oe(ue,U);class k{constructor(e){this._index=0,this._iter=e}[Symbol.iterator](){return this}iter(){return this}next(){return this._iter.next()}nextWithIndex(){const e=this._iter.next();return e.done?e:{value:[e.value,this._index++]}}enumerate(){throw new Error("iter/Enumerate was not imported!")}peekable(){throw new Error("iter/Peekable was not imported!")}forEach(e){throw new Error("iter/ForEach was not imported!")}map(e){throw new Error("iter/Map was not imported!")}merge(e){throw new Error("iter/Merge was not imported!")}concat(e){return this.merge(e)}filter(e){throw new Error("iter/Filter was not imported!")}step(e){throw new Error("iter/Step was not imported!")}skip(e){throw new Error("iter/Skip was not imported!")}take(e){throw new Error("iter/Take was not imported!")}toMap(e,t){throw new Error("iter/ToMap was not imported!")}count(){return this.reduce(0,e=>e+1)}consume(){let e=this.next();for(;!e.done;)e=this.next();return this}toArray(){return this.reduce([],(e,t)=>(e.push(t),e))}join(e){return this.toArray().join(e)}indexOf(e){let t=this.next(),r=0;for(;!t.done;){if(t.value===e)return r;r++,t=this.next()}return-1}findIndex(e){let t=this.nextWithIndex();for(;!t.done;){const[r,s]=t.value;if(e(r,s))return s;t=this.nextWithIndex()}return-1}find(e){let t=this.nextWithIndex();for(;!t.done;){const[r,s]=t.value;if(e(r,s))return L(r);t=this.nextWithIndex()}return P()}findAll(e){return this.filter(e)}nth(e=0){let t=this.next();for(e<0&&(e=0);!t.done;){if(e--<=0)return L(t.value);t=this.next()}return P()}first(){return this.nth(0)}last(){let e=this.next();for(;!e.done;){const t=this.next();if(t.done)return L(e.value);e=t}return P()}any(e){return this.findIndex(e)!==-1}some(e){return this.any(e)}none(e){return this.findIndex(e)===-1}all(e){let t=this.nextWithIndex();for(;!t.done;){const[r,s]=t.value;if(!e(r,s))return!1;t=this.nextWithIndex()}return!0}flatten(e){throw new Error("iter/Flatten was not imported!")}unflatten(e){throw new Error("iter/Unflatten was not imported!")}reduce(e,t){let r=this.next();for(;!r.done;){const s=r.value;e=t(e,s,this._index-1),r=this.next()}return e}reverse(){return J(this.toArray().reverse())}}function J(n){return n!=null?typeof n[Symbol.iterator]=="function"?new k(n[Symbol.iterator]()):typeof n.next=="function"?n instanceof k?n:new k(n):J(typeof n=="object"?Object.entries(n):[n]):J([])}class Ke extends k{constructor(e){super(e)}next(){const e=super.nextWithIndex();return e.done?e:{value:ze(e.value)}}}k.prototype.enumerate=function(){return new Ke(this)};function ze(n){const e=n[0],t=n;return t[0]=n[1],t[1]=e,t}class Qe extends k{constructor(e,t){super(e),this._fn=t}next(){let e=super.nextWithIndex();for(;!e.done;){const[t,r]=e.value;if(this._fn(t,r))return{done:!1,value:t};e=super.nextWithIndex()}return{done:!0,value:void 0}}}k.prototype.filter=function(e){return new Qe(this,e)};class Ze extends k{constructor(e,t){super(e),this._fn=([r,s])=>(t(r,s),r)}next(){const e=super.nextWithIndex();return e.done?e:{done:!1,value:this._fn(e.value)}}}k.prototype.forEach=function(e){return new Ze(this,e)};class $e extends k{constructor(e,t){super(e),this._fn=([r,s])=>t(r,s)}next(){const e=super.nextWithIndex();return e.done?e:{done:!1,value:this._fn(e.value)}}}k.prototype.map=function(e){return new $e(this,e)};class et extends k{constructor(e,t){super(e),this._other=t}next(){const e=super.next();return e.done?this._other.next():e}}k.prototype.merge=function(e){return new et(this,e)};class tt extends k{constructor(){super(...arguments),this.peeked=[]}unpeekAll(){return this.peeked.length=0,this}unpeek(){return this.peeked.length>0?L(this.peeked.shift()):P()}peek(e=0){if(e<this.peeked.length)return L(this.peeked[e]);{let t=this.peeked.length-e-1,r=super.next();for(;!r.done&&(this.peeked.push(r.value),!(--t<=0));)r=super.next();return r.done?P():L(r.value)}}next(){const e=this.unpeek();if(e.isSome())return{done:!1,value:e.unwrap()};const t=super.next();return t.done?t:{done:!1,value:t.value}}}k.prototype.peekable=function(){return new tt(this)};class nt extends k{constructor(e,t){super(e),this._skipped=0,this._skip=(t<=0?0:t)|0}next(){let e=super.next();for(;!e.done;)if(this._skipped<=this._skip)this._skipped+=1,e=super.next();else return e;return{done:!0,value:void 0}}}k.prototype.skip=function(n){return new nt(this,n)};class rt extends k{constructor(e,t){super(e),this._stepped=0,this._step=t<=0?1:t|0}next(){let e=super.next();for(;!e.done;)if(this._stepped<this._step)this._stepped+=1,e=super.next();else return this._stepped=0,e;return{done:!0,value:void 0}}}k.prototype.step=function(n){return new rt(this,n)};class st extends k{constructor(e,t){super(e),this._taken=0,this._count=(t<=0?0:t)|0}next(){return this._taken<this._count?(this._taken+=1,super.next()):{done:!0,value:void 0}}}k.prototype.take=function(e){return new st(this,e)};const it=n=>n,lt=n=>n;class ot extends k{constructor(e,t=it,r=lt){super(e),this._map=([s,i])=>[t(s,i),r(s,i)]}toObject(){return this.reduce({},(e,t)=>(e[t[0]]=t[1],e))}next(){const e=super.nextWithIndex();return e.done?e:{done:!1,value:this._map(e.value)}}}k.prototype.toMap=function(e,t){return new ot(this,e,t)};class ut extends k{constructor(e,t){super(e),this._fn=t}next(){return this._fn(this._iter)}}k.prototype.unflatten=function(e){return new ut(this,e)};class at extends k{constructor(e,t=1){super(e),this._current=void 0,this._depth=t}next(){if(this._current!==void 0){const e=this._current.next();if(e.done)this._current=void 0;else return e}return this._nextRecur()}_nextRecur(){const e=super.next();if(e.done)return e;if(this._depth>0){const t=J(e.value).flatten(this._depth-1),r=t.next();return r.done?this._nextRecur():(this._current=t,r)}else return e}}k.prototype.flatten=function(e=1){return new at(this,e)};var q;(function(n){n[n.Forward=0]="Forward",n[n.Backward=1]="Backward"})(q||(q={}));class ae{constructor(e,t,r=1){this.start=e!==e?0:e,this.end=t!==t?this.start-1:t,this.step=r!==r?1:Math.abs(r),this.direction=e>t?q.Backward:q.Forward}static from(e,t,r=1){return new ae(e,t,r)}getStart(){return this.start}getEnd(){return this.end}getStep(){return this.step}getDirection(){return this.direction}contains(e){return this.start<=e&&e<=this.end}isEmpty(){return this.direction===q.Forward?this.start>this.end:this.start<this.end}iter(){return new k(this)}[Symbol.iterator](){return this}next(){if(this.isEmpty())return{done:!0,value:void 0};{const e=this.start;return this.direction===q.Forward?this.start+=this.step:this.start-=this.step,{done:!1,value:e}}}}const V=ae.from;function Pt(n,e,t,r){const s=t[0],i=t[1],l=Math.cos(r),d=Math.sin(r);return n[0]=l*s,n[1]=d*s,n[2]=-d*i,n[3]=l*i,n[4]=e[0],n[5]=e[1],n}te();function de(n){return`matrix(${n[0]},${n[1]},${n[2]},${n[3]},${n[4]},${n[5]})`}function Fe(n,e,t){return V(Math.floor(n/t)*t,Math.ceil(e/t)*t,t).iter()}function pe(n,e,t){const r=n.slice();return r[7]=e[t],r}function me(n){let e,t=(n[0]?n[0](n[7]):n[7])+"",r,s;return{c(){e=A("text"),r=Ne(t),this.h()},l(i){e=I(i,"text",{x:!0,y:!0,"alignment-baseline":!0,"text-anchor":!0,class:!0});var l=N(e);r=Pe(l,t),l.forEach(y),this.h()},h(){o(e,"x",s=n[1](n[7])),o(e,"y",5),o(e,"alignment-baseline","hanging"),o(e,"text-anchor","middle"),o(e,"class","svelte-d4702a")},m(i,l){E(i,e,l),H(e,r)},p(i,l){l&5&&t!==(t=(i[0]?i[0](i[7]):i[7])+"")&&Le(r,t),l&6&&s!==(s=i[1](i[7]))&&o(e,"x",s)},d(i){i&&y(e)}}}function ht(n){let e,t=n[2],r=[];for(let s=0;s<t.length;s+=1)r[s]=me(pe(n,t,s));return{c(){e=A("g");for(let s=0;s<r.length;s+=1)r[s].c();this.h()},l(s){e=I(s,"g",{class:!0});var i=N(e);for(let l=0;l<r.length;l+=1)r[l].l(i);i.forEach(y),this.h()},h(){o(e,"class","svelte-d4702a")},m(s,i){E(s,e,i);for(let l=0;l<r.length;l+=1)r[l].m(e,null)},p(s,[i]){if(i&7){t=s[2];let l;for(l=0;l<t.length;l+=1){const d=pe(s,t,l);r[l]?r[l].p(d,i):(r[l]=me(d),r[l].c(),r[l].m(e,null))}for(;l<r.length;l+=1)r[l].d(1);r.length=t.length}},i:B,o:B,d(s){s&&y(e),ee(r,s)}}}function ft(n,e,t){let r,s,i,{separation:l}=e,{labelMaker:d}=e;const _=F(Te);C(n,_,h=>t(6,i=h));const p=F(Oe);return C(n,p,h=>t(1,s=h)),n.$$set=h=>{"separation"in h&&t(5,l=h.separation),"labelMaker"in h&&t(0,d=h.labelMaker)},n.$$.update=()=>{n.$$.dirty&98&&t(2,r=Fe(i[0][0]-l,i[i.length-1][1]+l,l).filter(h=>Math.abs(s(h)-s(0))>1).toArray())},[d,s,r,_,p,l,i]}class ct extends D{constructor(e){super(),K(this,e,ft,ht,z,{separation:5,labelMaker:0})}}function xe(n,e,t){const r=n.slice();return r[7]=e[t],r}function ye(n){let e,t=(n[0]?n[0](n[7]):n[7])+"",r,s;return{c(){e=A("text"),r=Ne(t),this.h()},l(i){e=I(i,"text",{x:!0,y:!0,"alignment-baseline":!0,class:!0});var l=N(e);r=Pe(l,t),l.forEach(y),this.h()},h(){o(e,"x",5),o(e,"y",s=n[1](n[7])),o(e,"alignment-baseline","central"),o(e,"class","svelte-d4702a")},m(i,l){E(i,e,l),H(e,r)},p(i,l){l&5&&t!==(t=(i[0]?i[0](i[7]):i[7])+"")&&Le(r,t),l&6&&s!==(s=i[1](i[7]))&&o(e,"y",s)},d(i){i&&y(e)}}}function _t(n){let e,t=n[2],r=[];for(let s=0;s<t.length;s+=1)r[s]=ye(xe(n,t,s));return{c(){e=A("g");for(let s=0;s<r.length;s+=1)r[s].c();this.h()},l(s){e=I(s,"g",{class:!0});var i=N(e);for(let l=0;l<r.length;l+=1)r[l].l(i);i.forEach(y),this.h()},h(){o(e,"class","svelte-d4702a")},m(s,i){E(s,e,i);for(let l=0;l<r.length;l+=1)r[l].m(e,null)},p(s,[i]){if(i&7){t=s[2];let l;for(l=0;l<t.length;l+=1){const d=xe(s,t,l);r[l]?r[l].p(d,i):(r[l]=ye(d),r[l].c(),r[l].m(e,null))}for(;l<r.length;l+=1)r[l].d(1);r.length=t.length}},i:B,o:B,d(s){s&&y(e),ee(r,s)}}}function dt(n,e,t){let r,s,i,{separation:l}=e,{labelMaker:d}=e;const _=F(Xe);C(n,_,h=>t(6,i=h));const p=F(Ce);return C(n,p,h=>t(1,s=h)),n.$$set=h=>{"separation"in h&&t(5,l=h.separation),"labelMaker"in h&&t(0,d=h.labelMaker)},n.$$.update=()=>{n.$$.dirty&98&&t(2,r=Fe(i[0][0]-l,i[i.length-1][1]+l,l).filter(h=>Math.abs(s(h)-s(0))>1).toArray())},[d,s,r,_,p,l,i]}class pt extends D{constructor(e){super(),K(this,e,dt,_t,z,{separation:5,labelMaker:0})}}function we(n,e,t){const r=n.slice();return r[15]=e[t],r}function be(n,e,t){const r=n.slice();return r[18]=e[t],r}function ke(n){let e,t,r;return{c(){e=A("line"),this.h()},l(s){e=I(s,"line",{x1:!0,y1:!0,x2:!0,y2:!0,stroke:!0,class:!0}),N(e).forEach(y),this.h()},h(){o(e,"x1",t=n[18]),o(e,"y1",0),o(e,"x2",r=n[18]),o(e,"y2",n[5]),o(e,"stroke",n[4]),o(e,"class","svelte-1q1exwb")},m(s,i){E(s,e,i)},p(s,i){i&128&&t!==(t=s[18])&&o(e,"x1",t),i&128&&r!==(r=s[18])&&o(e,"x2",r),i&32&&o(e,"y2",s[5]),i&16&&o(e,"stroke",s[4])},d(s){s&&y(e)}}}function ge(n){let e,t,r;return{c(){e=A("line"),this.h()},l(s){e=I(s,"line",{y1:!0,x1:!0,y2:!0,x2:!0,stroke:!0,class:!0}),N(e).forEach(y),this.h()},h(){o(e,"y1",t=n[15]),o(e,"x1",0),o(e,"y2",r=n[15]),o(e,"x2",n[6]),o(e,"stroke",n[4]),o(e,"class","svelte-1q1exwb")},m(s,i){E(s,e,i)},p(s,i){i&256&&t!==(t=s[15])&&o(e,"y1",t),i&256&&r!==(r=s[15])&&o(e,"y2",r),i&64&&o(e,"x2",s[6]),i&16&&o(e,"stroke",s[4])},d(s){s&&y(e)}}}function ve(n){let e,t;return{c(){e=A("line"),t=A("line"),this.h()},l(r){e=I(r,"line",{x1:!0,y1:!0,x2:!0,y2:!0,stroke:!0,class:!0}),N(e).forEach(y),t=I(r,"line",{x1:!0,y1:!0,x2:!0,y2:!0,stroke:!0,class:!0}),N(t).forEach(y),this.h()},h(){o(e,"x1",0),o(e,"y1",0),o(e,"x2",0),o(e,"y2",n[5]),o(e,"stroke",n[3]),o(e,"class","svelte-1q1exwb"),o(t,"x1",n[6]),o(t,"y1",0),o(t,"x2",n[6]),o(t,"y2",n[5]),o(t,"stroke",n[3]),o(t,"class","svelte-1q1exwb")},m(r,s){E(r,e,s),E(r,t,s)},p(r,s){s&32&&o(e,"y2",r[5]),s&8&&o(e,"stroke",r[3]),s&64&&o(t,"x1",r[6]),s&64&&o(t,"x2",r[6]),s&32&&o(t,"y2",r[5]),s&8&&o(t,"stroke",r[3])},d(r){r&&y(e),r&&y(t)}}}function Ee(n){let e,t;return{c(){e=A("line"),t=A("line"),this.h()},l(r){e=I(r,"line",{x1:!0,y1:!0,x2:!0,y2:!0,stroke:!0,class:!0}),N(e).forEach(y),t=I(r,"line",{x1:!0,y1:!0,x2:!0,y2:!0,stroke:!0,class:!0}),N(t).forEach(y),this.h()},h(){o(e,"x1",0),o(e,"y1",0),o(e,"x2",n[6]),o(e,"y2",0),o(e,"stroke",n[3]),o(e,"class","svelte-1q1exwb"),o(t,"x1",0),o(t,"y1",n[5]),o(t,"x2",n[6]),o(t,"y2",n[5]),o(t,"stroke",n[3]),o(t,"class","svelte-1q1exwb")},m(r,s){E(r,e,s),E(r,t,s)},p(r,s){s&64&&o(e,"x2",r[6]),s&8&&o(e,"stroke",r[3]),s&32&&o(t,"y1",r[5]),s&64&&o(t,"x2",r[6]),s&32&&o(t,"y2",r[5]),s&8&&o(t,"stroke",r[3])},d(r){r&&y(e),r&&y(t)}}}function mt(n){let e,t,r,s,i=n[7],l=[];for(let a=0;a<i.length;a+=1)l[a]=ke(be(n,i,a));let d=n[8],_=[];for(let a=0;a<d.length;a+=1)_[a]=ge(we(n,d,a));let p=n[1]&&ve(n),h=n[2]&&Ee(n);return{c(){e=A("pattern");for(let a=0;a<l.length;a+=1)l[a].c();t=W();for(let a=0;a<_.length;a+=1)_[a].c();r=W(),p&&p.c(),s=W(),h&&h.c(),this.h()},l(a){e=I(a,"pattern",{id:!0,x:!0,y:!0,width:!0,height:!0,patternUnits:!0});var x=N(e);for(let f=0;f<l.length;f+=1)l[f].l(x);t=W();for(let f=0;f<_.length;f+=1)_[f].l(x);r=W(),p&&p.l(x),s=W(),h&&h.l(x),x.forEach(y),this.h()},h(){o(e,"id",n[0]),o(e,"x","0"),o(e,"y","0"),o(e,"width",n[6]),o(e,"height",n[5]),o(e,"patternUnits","userSpaceOnUse")},m(a,x){E(a,e,x);for(let f=0;f<l.length;f+=1)l[f].m(e,null);H(e,t);for(let f=0;f<_.length;f+=1)_[f].m(e,null);H(e,r),p&&p.m(e,null),H(e,s),h&&h.m(e,null)},p(a,[x]){if(x&176){i=a[7];let f;for(f=0;f<i.length;f+=1){const g=be(a,i,f);l[f]?l[f].p(g,x):(l[f]=ke(g),l[f].c(),l[f].m(e,t))}for(;f<l.length;f+=1)l[f].d(1);l.length=i.length}if(x&336){d=a[8];let f;for(f=0;f<d.length;f+=1){const g=we(a,d,f);_[f]?_[f].p(g,x):(_[f]=ge(g),_[f].c(),_[f].m(e,r))}for(;f<_.length;f+=1)_[f].d(1);_.length=d.length}a[1]?p?p.p(a,x):(p=ve(a),p.c(),p.m(e,s)):p&&(p.d(1),p=null),a[2]?h?h.p(a,x):(h=Ee(a),h.c(),h.m(e,null)):h&&(h.d(1),h=null),x&1&&o(e,"id",a[0]),x&64&&o(e,"width",a[6]),x&32&&o(e,"height",a[5])},i:B,o:B,d(a){a&&y(e),ee(l,a),ee(_,a),p&&p.d(),h&&h.d()}}}function xt(n,e,t){let r,s,i,l,{id:d}=e,{xLines:_=1}=e,{yLines:p=1}=e,{xSubdivisions:h=1}=e,{ySubdivisions:a=1}=e,{color:x="#888"}=e,{subdivisionColor:f="#aaa"}=e;const g=F(Oe);C(n,g,c=>t(14,l=c));const w=F(Ce);C(n,w,c=>t(13,i=c));let b=[],v=[];return n.$$set=c=>{"id"in c&&t(0,d=c.id),"xLines"in c&&t(1,_=c.xLines),"yLines"in c&&t(2,p=c.yLines),"xSubdivisions"in c&&t(11,h=c.xSubdivisions),"ySubdivisions"in c&&t(12,a=c.ySubdivisions),"color"in c&&t(3,x=c.color),"subdivisionColor"in c&&t(4,f=c.subdivisionColor)},n.$$.update=()=>{if(n.$$.dirty&16386&&t(6,r=l(_||1)),n.$$.dirty&8196&&t(5,s=-i(p||1)),n.$$.dirty&2112&&h&&h>1){const c=r/h;t(7,b=V(0,r+c*1.1,c).iter().toArray())}if(n.$$.dirty&4128&&a&&a>1){const c=s/a;t(8,v=V(0,s+c*1.1,c).iter().toArray())}},[d,_,p,x,f,s,r,b,v,g,w,h,a,i,l]}class yt extends D{constructor(e){super(),K(this,e,xt,mt,z,{id:0,xLines:1,yLines:2,xSubdivisions:11,ySubdivisions:12,color:3,subdivisionColor:4})}}function Se(n){let e,t;return e=new ct({props:{labelMaker:n[8].labels,separation:n[8].lines||1}}),{c(){ne(e.$$.fragment)},l(r){re(e.$$.fragment,r)},m(r,s){se(e,r,s),t=!0},p(r,s){const i={};s&256&&(i.labelMaker=r[8].labels),s&256&&(i.separation=r[8].lines||1),e.$set(i)},i(r){t||(X(e.$$.fragment,r),t=!0)},o(r){R(e.$$.fragment,r),t=!1},d(r){ie(e,r)}}}function Me(n){let e,t;return e=new pt({props:{labelMaker:n[7].labels,separation:n[7].lines||1}}),{c(){ne(e.$$.fragment)},l(r){re(e.$$.fragment,r)},m(r,s){se(e,r,s),t=!0},p(r,s){const i={};s&128&&(i.labelMaker=r[7].labels),s&128&&(i.separation=r[7].lines||1),e.$set(i)},i(r){t||(X(e.$$.fragment,r),t=!0)},o(r){R(e.$$.fragment,r),t=!1},d(r){ie(e,r)}}}function Ae(n){let e,t,r;return{c(){e=A("line"),this.h()},l(s){e=I(s,"line",{x1:!0,x2:!0,y1:!0,y2:!0,class:!0,stroke:!0}),N(e).forEach(y),this.h()},h(){o(e,"x1",t=n[6]-n[4]),o(e,"x2",r=n[6]+n[4]),o(e,"y1",0),o(e,"y2",0),o(e,"class","transform-y-to-center svelte-1q1exwb"),o(e,"stroke",n[0])},m(s,i){E(s,e,i)},p(s,i){i&80&&t!==(t=s[6]-s[4])&&o(e,"x1",t),i&80&&r!==(r=s[6]+s[4])&&o(e,"x2",r),i&1&&o(e,"stroke",s[0])},d(s){s&&y(e)}}}function Ie(n){let e,t,r;return{c(){e=A("line"),this.h()},l(s){e=I(s,"line",{x1:!0,x2:!0,y1:!0,y2:!0,class:!0,stroke:!0}),N(e).forEach(y),this.h()},h(){o(e,"x1",0),o(e,"x2",0),o(e,"y1",t=n[5]-n[3]),o(e,"y2",r=n[5]+n[3]),o(e,"class","transform-x-to-center svelte-1q1exwb"),o(e,"stroke",n[0])},m(s,i){E(s,e,i)},p(s,i){i&40&&t!==(t=s[5]-s[3])&&o(e,"y1",t),i&40&&r!==(r=s[5]+s[3])&&o(e,"y2",r),i&1&&o(e,"stroke",s[0])},d(s){s&&y(e)}}}function wt(n){let e,t,r,s,i,l,d,_,p,h,a,x,f,g;t=new yt({props:{id:n[9],xLines:n[8].lines,yLines:n[7].lines,xSubdivisions:n[8].subdivisions,ySubdivisions:n[7].subdivisions}});let w=n[1].labels&&Se(n),b=n[2].labels&&Me(n),v=n[8].axis&&Ae(n),c=n[7].axis&&Ie(n);return{c(){e=A("defs"),ne(t.$$.fragment),r=G(),s=A("rect"),p=G(),w&&w.c(),h=G(),b&&b.c(),a=G(),v&&v.c(),x=G(),c&&c.c(),f=W(),this.h()},l(u){e=I(u,"defs",{});var m=N(e);re(t.$$.fragment,m),m.forEach(y),r=j(u),s=I(u,"rect",{fill:!0,x:!0,y:!0,width:!0,height:!0}),N(s).forEach(y),p=j(u),w&&w.l(u),h=j(u),b&&b.l(u),a=j(u),v&&v.l(u),x=j(u),c&&c.l(u),f=W(),this.h()},h(){o(s,"fill",`url(#${n[9]})`),o(s,"x",i=n[6]-n[4]),o(s,"y",l=n[5]-n[3]),o(s,"width",d=n[4]*2),o(s,"height",_=n[3]*2)},m(u,m){E(u,e,m),se(t,e,null),E(u,r,m),E(u,s,m),E(u,p,m),w&&w.m(u,m),E(u,h,m),b&&b.m(u,m),E(u,a,m),v&&v.m(u,m),E(u,x,m),c&&c.m(u,m),E(u,f,m),g=!0},p(u,[m]){const O={};m&256&&(O.xLines=u[8].lines),m&128&&(O.yLines=u[7].lines),m&256&&(O.xSubdivisions=u[8].subdivisions),m&128&&(O.ySubdivisions=u[7].subdivisions),t.$set(O),(!g||m&80&&i!==(i=u[6]-u[4]))&&o(s,"x",i),(!g||m&40&&l!==(l=u[5]-u[3]))&&o(s,"y",l),(!g||m&16&&d!==(d=u[4]*2))&&o(s,"width",d),(!g||m&8&&_!==(_=u[3]*2))&&o(s,"height",_),u[1].labels?w?(w.p(u,m),m&2&&X(w,1)):(w=Se(u),w.c(),X(w,1),w.m(h.parentNode,h)):w&&(he(),R(w,1,1,()=>{w=null}),fe()),u[2].labels?b?(b.p(u,m),m&4&&X(b,1)):(b=Me(u),b.c(),X(b,1),b.m(a.parentNode,a)):b&&(he(),R(b,1,1,()=>{b=null}),fe()),u[8].axis?v?v.p(u,m):(v=Ae(u),v.c(),v.m(x.parentNode,x)):v&&(v.d(1),v=null),u[7].axis?c?c.p(u,m):(c=Ie(u),c.c(),c.m(f.parentNode,f)):c&&(c.d(1),c=null)},i(u){g||(X(t.$$.fragment,u),X(w),X(b),g=!0)},o(u){R(t.$$.fragment,u),R(w),R(b),g=!1},d(u){u&&y(e),ie(t),u&&y(r),u&&y(s),u&&y(p),w&&w.d(u),u&&y(h),b&&b.d(u),u&&y(a),v&&v.d(u),u&&y(x),c&&c.d(u),u&&y(f)}}}let bt=0;const Y={axis:!0,lines:1,labels:n=>n};function kt(n,e,t){let r,s,i,l,d,_,p,h,a,x,{color:f="#000"}=e,{subdivisions:g=!1}=e,{xAxis:w=Y}=e,{yAxis:b=Y}=e;const v=`svelte-2d-grid-pattern-${bt++}`,c=F(Ye);C(n,c,S=>t(17,h=S));const u=F(Ue);C(n,u,S=>t(16,p=S));const m=F(Be);C(n,m,S=>t(19,x=S));const O=F(Ge);C(n,O,S=>t(18,a=S));let T=te();return n.$$set=S=>{"color"in S&&t(0,f=S.color),"subdivisions"in S&&t(14,g=S.subdivisions),"xAxis"in S&&t(1,w=S.xAxis),"yAxis"in S&&t(2,b=S.yAxis)},n.$$.update=()=>{n.$$.dirty&16386&&t(8,r={...Y,...w,subdivisions:g}),n.$$.dirty&16388&&t(7,s={...Y,...b,subdivisions:g}),n.$$.dirty&819200&&t(15,T=je(T,x,a)),n.$$.dirty&32768&&t(6,i=T[0]),n.$$.dirty&32768&&t(5,l=-T[1]),n.$$.dirty&131072&&t(4,d=h),n.$$.dirty&65536&&t(3,_=p)},[f,w,b,_,d,l,i,s,r,v,c,u,m,O,g,T,p,h,a,x]}class gt extends D{constructor(e){super(),K(this,e,kt,wt,z,{color:0,subdivisions:14,xAxis:1,yAxis:2})}}function vt(n){let e,t,r,s;return t=new gt({props:{xAxis:n[0],yAxis:n[1]}}),{c(){e=A("g"),ne(t.$$.fragment),this.h()},l(i){e=I(i,"g",{transform:!0});var l=N(e);re(t.$$.fragment,l),l.forEach(y),this.h()},h(){o(e,"transform",r=de(n[2]))},m(i,l){E(i,e,l),se(t,e,null),s=!0},p(i,[l]){const d={};l&1&&(d.xAxis=i[0]),l&2&&(d.yAxis=i[1]),t.$set(d),(!s||l&4&&r!==(r=de(i[2])))&&o(e,"transform",r)},i(i){s||(X(t.$$.fragment,i),s=!0)},o(i){R(t.$$.fragment,i),s=!1},d(i){i&&y(e),ie(t)}}}const Te=le(),Et=le(),Xe=le(),St=le();let $=2;function Mt(n,e,t){let r,s,i,l,d,_,p,h,a,x,f,{xAxis:g=Y}=e,{yAxis:w=Y}=e;const b=F(He);C(n,b,M=>t(19,x=M));const v=F(Je);C(n,v,M=>t(18,a=M));const c=F(Ve);C(n,c,M=>t(2,f=M));let u=[],m=te(),O=[],T=te();const S=Q(Te,Z(u)),We=Q(Et,Z(m)),Re=Q(Xe,Z(O)),qe=Q(St,Z(T));return n.$$set=M=>{"xAxis"in M&&t(0,g=M.xAxis),"yAxis"in M&&t(1,w=M.yAxis)},n.$$.update=()=>{n.$$.dirty&786432&&t(17,r=a[0]-x[0]),n.$$.dirty&131072&&t(16,s=Math.pow($,Math.round(Math.log10(r)/Math.log10($)))),n.$$.dirty&589824&&t(15,i=Math.floor(x[0]/s)*s),n.$$.dirty&327680&&t(14,l=Math.ceil(a[0]/s)*s),n.$$.dirty&114688&&t(6,u=V(i,l,s).iter().map(M=>ce(M,M+s)).toArray()),n.$$.dirty&49280&&t(7,m=_e(m,i,l)),n.$$.dirty&64&&S.set(u),n.$$.dirty&128&&We.set(m),n.$$.dirty&786432&&t(13,d=a[1]-x[1]),n.$$.dirty&8192&&t(12,_=Math.pow($,Math.round(Math.log10(d)/Math.log10($)))),n.$$.dirty&528384&&t(11,p=Math.floor(x[0]/_)*_),n.$$.dirty&266240&&t(10,h=Math.ceil(a[0]/_)*_),n.$$.dirty&7168&&t(8,O=V(p,h,_).iter().map(M=>ce(M,M+_)).toArray()),n.$$.dirty&3584&&t(9,T=_e(T,p,h)),n.$$.dirty&256&&Re.set(O),n.$$.dirty&512&&qe.set(T)},[g,w,f,b,v,c,u,m,O,T,h,p,_,d,l,i,s,r,a,x]}class Lt extends D{constructor(e){super(),K(this,e,Mt,vt,z,{xAxis:0,yAxis:1})}}export{Lt as G,Pt as c,de as m};
