import{J as Yt,K as be,S as ve,i as we,s as Ee,F as Te,e as Ae,L as yt,c as Se,a as lt,M as bt,d as tt,b as k,N as De,g as ke,O as vt,P as Oe,G as Pe,H as Ie,I as xe,q as Ce,o as Me,r as w,v as Le,Q as Re}from"./index-411fd6b6.js";import{w as T}from"./index-499b44ca.js";function E(){return{}}function ns(e){const t=Yt(e);if(!t)throw new Error("Must be used inside the component's context.");return t}function Ke(e,t,n){return Math.max(t,Math.min(e,n))}const v={toVector(e,t){return e===void 0&&(e=t),Array.isArray(e)?e:[e,e]},add(e,t){return[e[0]+t[0],e[1]+t[1]]},sub(e,t){return[e[0]-t[0],e[1]-t[1]]},addTo(e,t){e[0]+=t[0],e[1]+=t[1]},subTo(e,t){e[0]-=t[0],e[1]-=t[1]}};function wt(e,t,n){return t===0||Math.abs(t)===1/0?Math.pow(e,n*5):e*t*n/(t+n*e)}function Et(e,t,n,s=.15){return s===0?Ke(e,t,n):e<t?-wt(t-e,n-t,s)+t:e>n?+wt(e-n,n-t,s)+n:e}function We(e,[t,n],[s,r]){const[[i,o],[a,l]]=e;return[Et(t,i,o,s),Et(n,a,l,r)]}function A(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Tt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,s)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Tt(Object(n),!0).forEach(function(s){A(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Tt(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}const Vt={pointer:{start:"down",change:"move",end:"up"},mouse:{start:"down",change:"move",end:"up"},touch:{start:"start",change:"move",end:"end"},gesture:{start:"start",change:"change",end:"end"}};function At(e){return e?e[0].toUpperCase()+e.slice(1):""}const Be=["enter","leave"];function je(e=!1,t){return e&&!Be.includes(t)}function Ue(e,t="",n=!1){const s=Vt[e],r=s&&s[t]||t;return"on"+At(e)+At(r)+(je(n,r)?"Capture":"")}const Ye=["gotpointercapture","lostpointercapture"];function Ve(e){let t=e.substring(2).toLowerCase();const n=!!~t.indexOf("passive");n&&(t=t.replace("passive",""));const s=Ye.includes(t)?"capturecapture":"capture",r=!!~t.indexOf(s);return r&&(t=t.replace("capture","")),{device:t,capture:r,passive:n}}function ze(e,t=""){const n=Vt[e],s=n&&n[t]||t;return e+s}function at(e){return"touches"in e}function zt(e){return at(e)?"touch":"pointerType"in e?e.pointerType:"mouse"}function Xe(e){return Array.from(e.touches).filter(t=>{var n,s;return t.target===e.currentTarget||((n=e.currentTarget)===null||n===void 0||(s=n.contains)===null||s===void 0?void 0:s.call(n,t.target))})}function He(e){return e.type==="touchend"||e.type==="touchcancel"?e.changedTouches:e.targetTouches}function Xt(e){return at(e)?He(e)[0]:e}function Ge(e){return Xe(e).map(t=>t.identifier)}function ht(e){const t=Xt(e);return at(e)?t.identifier:t.pointerId}function St(e){const t=Xt(e);return[t.clientX,t.clientY]}const Dt=40,kt=800;function Ne(e){let{deltaX:t,deltaY:n,deltaMode:s}=e;return s===1?(t*=Dt,n*=Dt):s===2&&(t*=kt,n*=kt),[t,n]}function Fe(e){const t={};if("buttons"in e&&(t.buttons=e.buttons),"shiftKey"in e){const{shiftKey:n,altKey:s,metaKey:r,ctrlKey:i}=e;Object.assign(t,{shiftKey:n,altKey:s,metaKey:r,ctrlKey:i})}return t}function it(e,...t){return typeof e=="function"?e(...t):e}function Ze(){}function qe(...e){return e.length===0?Ze:e.length===1?e[0]:function(){let t;for(const n of e)t=n.apply(this,arguments)||t;return t}}function Ot(e,t){return Object.assign({},t,e||{})}const Je=32;class Qe{constructor(t,n,s){this.ctrl=t,this.args=n,this.key=s,this.state||(this.state={},this.computeValues([0,0]),this.computeInitial(),this.init&&this.init(),this.reset())}get state(){return this.ctrl.state[this.key]}set state(t){this.ctrl.state[this.key]=t}get shared(){return this.ctrl.state.shared}get eventStore(){return this.ctrl.gestureEventStores[this.key]}get timeoutStore(){return this.ctrl.gestureTimeoutStores[this.key]}get config(){return this.ctrl.config[this.key]}get sharedConfig(){return this.ctrl.config.shared}get handler(){return this.ctrl.handlers[this.key]}reset(){const{state:t,shared:n,ingKey:s,args:r}=this;n[s]=t._active=t.active=t._blocked=t._force=!1,t._step=[!1,!1],t.intentional=!1,t._movement=[0,0],t._distance=[0,0],t._direction=[0,0],t._delta=[0,0],t._bounds=[[-1/0,1/0],[-1/0,1/0]],t.args=r,t.axis=void 0,t.memo=void 0,t.elapsedTime=0,t.direction=[0,0],t.distance=[0,0],t.overflow=[0,0],t._movementBound=[!1,!1],t.velocity=[0,0],t.movement=[0,0],t.delta=[0,0],t.timeStamp=0}start(t){const n=this.state,s=this.config;n._active||(this.reset(),this.computeInitial(),n._active=!0,n.target=t.target,n.currentTarget=t.currentTarget,n.lastOffset=s.from?it(s.from,n):n.offset,n.offset=n.lastOffset),n.startTime=n.timeStamp=t.timeStamp}computeValues(t){const n=this.state;n._values=t,n.values=this.config.transform(t)}computeInitial(){const t=this.state;t._initial=t._values,t.initial=t.values}compute(t){const{state:n,config:s,shared:r}=this;n.args=this.args;let i=0;if(t&&(n.event=t,s.preventDefault&&t.cancelable&&n.event.preventDefault(),n.type=t.type,r.touches=this.ctrl.pointerIds.size||this.ctrl.touchIds.size,r.locked=!!document.pointerLockElement,Object.assign(r,Fe(t)),r.down=r.pressed=r.buttons%2===1||r.touches>0,i=t.timeStamp-n.timeStamp,n.timeStamp=t.timeStamp,n.elapsedTime=n.timeStamp-n.startTime),n._active){const m=n._delta.map(Math.abs);v.addTo(n._distance,m)}this.axisIntent&&this.axisIntent(t);const[o,a]=n._movement,[l,f]=s.threshold,{_step:u,values:d}=n;if(s.hasCustomTransform?(u[0]===!1&&(u[0]=Math.abs(o)>=l&&d[0]),u[1]===!1&&(u[1]=Math.abs(a)>=f&&d[1])):(u[0]===!1&&(u[0]=Math.abs(o)>=l&&Math.sign(o)*l),u[1]===!1&&(u[1]=Math.abs(a)>=f&&Math.sign(a)*f)),n.intentional=u[0]!==!1||u[1]!==!1,!n.intentional)return;const c=[0,0];if(s.hasCustomTransform){const[m,R]=d;c[0]=u[0]!==!1?m-u[0]:0,c[1]=u[1]!==!1?R-u[1]:0}else c[0]=u[0]!==!1?o-u[0]:0,c[1]=u[1]!==!1?a-u[1]:0;this.restrictToAxis&&!n._blocked&&this.restrictToAxis(c);const p=n.offset,_=n._active&&!n._blocked||n.active;_&&(n.first=n._active&&!n.active,n.last=!n._active&&n.active,n.active=r[this.ingKey]=n._active,t&&(n.first&&("bounds"in s&&(n._bounds=it(s.bounds,n)),this.setup&&this.setup()),n.movement=c,this.computeOffset()));const[S,L]=n.offset,[[W,D],[P,I]]=n._bounds;n.overflow=[S<W?-1:S>D?1:0,L<P?-1:L>I?1:0],n._movementBound[0]=n.overflow[0]?n._movementBound[0]===!1?n._movement[0]:n._movementBound[0]:!1,n._movementBound[1]=n.overflow[1]?n._movementBound[1]===!1?n._movement[1]:n._movementBound[1]:!1;const y=n._active?s.rubberband||[0,0]:[0,0];if(n.offset=We(n._bounds,n.offset,y),n.delta=v.sub(n.offset,p),this.computeMovement(),_&&(!n.last||i>Je)){n.delta=v.sub(n.offset,p);const m=n.delta.map(Math.abs);v.addTo(n.distance,m),n.direction=n.delta.map(Math.sign),n._direction=n._delta.map(Math.sign),!n.first&&i>0&&(n.velocity=[m[0]/i,m[1]/i])}}emit(){const t=this.state,n=this.shared,s=this.config;if(t._active||this.clean(),(t._blocked||!t.intentional)&&!t._force&&!s.triggerAllEvents)return;const r=this.handler(g(g(g({},n),t),{},{[this.aliasKey]:t.values}));r!==void 0&&(t.memo=r)}clean(){this.eventStore.clean(),this.timeoutStore.clean()}}function $e([e,t],n){const s=Math.abs(e),r=Math.abs(t);if(s>r&&s>n)return"x";if(r>s&&r>n)return"y"}class Ht extends Qe{constructor(...t){super(...t),A(this,"aliasKey","xy")}reset(){super.reset(),this.state.axis=void 0}init(){this.state.offset=[0,0],this.state.lastOffset=[0,0]}computeOffset(){this.state.offset=v.add(this.state.lastOffset,this.state.movement)}computeMovement(){this.state.movement=v.sub(this.state.offset,this.state.lastOffset)}axisIntent(t){const n=this.state,s=this.config;if(!n.axis&&t){const r=typeof s.axisThreshold=="object"?s.axisThreshold[zt(t)]:s.axisThreshold;n.axis=$e(n._movement,r)}n._blocked=(s.lockDirection||!!s.axis)&&!n.axis||!!s.axis&&s.axis!==n.axis}restrictToAxis(t){if(this.config.axis||this.config.lockDirection)switch(this.state.axis){case"x":t[1]=0;break;case"y":t[0]=0;break}}}const tn=e=>e,Pt=.15,Gt={enabled(e=!0){return e},eventOptions(e,t,n){return g(g({},n.shared.eventOptions),e)},preventDefault(e=!1){return e},triggerAllEvents(e=!1){return e},rubberband(e=0){switch(e){case!0:return[Pt,Pt];case!1:return[0,0];default:return v.toVector(e)}},from(e){if(typeof e=="function")return e;if(e!=null)return v.toVector(e)},transform(e,t,n){const s=e||n.shared.transform;return this.hasCustomTransform=!!s,s||tn},threshold(e){return v.toVector(e,0)}},en=0,X=g(g({},Gt),{},{axis(e,t,{axis:n}){if(this.lockDirection=n==="lock",!this.lockDirection)return n},axisThreshold(e=en){return e},bounds(e={}){if(typeof e=="function")return i=>X.bounds(e(i));if("current"in e)return()=>e.current;if(typeof HTMLElement=="function"&&e instanceof HTMLElement)return e;const{left:t=-1/0,right:n=1/0,top:s=-1/0,bottom:r=1/0}=e;return[[t,n],[s,r]]}}),et=10,It={ArrowRight:(e=1)=>[et*e,0],ArrowLeft:(e=1)=>[-et*e,0],ArrowUp:(e=1)=>[0,-et*e],ArrowDown:(e=1)=>[0,et*e]};class nn extends Ht{constructor(...t){super(...t),A(this,"ingKey","dragging")}reset(){super.reset();const t=this.state;t._pointerId=void 0,t._pointerActive=!1,t._keyboardActive=!1,t._preventScroll=!1,t._delayed=!1,t.swipe=[0,0],t.tap=!1,t.canceled=!1,t.cancel=this.cancel.bind(this)}setup(){const t=this.state;if(t._bounds instanceof HTMLElement){const n=t._bounds.getBoundingClientRect(),s=t.currentTarget.getBoundingClientRect(),r={left:n.left-s.left+t.offset[0],right:n.right-s.right+t.offset[0],top:n.top-s.top+t.offset[1],bottom:n.bottom-s.bottom+t.offset[1]};t._bounds=X.bounds(r)}}cancel(){const t=this.state;t.canceled||(t.canceled=!0,t._active=!1,setTimeout(()=>{this.compute(),this.emit()},0))}setActive(){this.state._active=this.state._pointerActive||this.state._keyboardActive}clean(){this.pointerClean(),this.state._pointerActive=!1,this.state._keyboardActive=!1,super.clean()}pointerDown(t){const n=this.config,s=this.state;if(t.buttons!=null&&(Array.isArray(n.pointerButtons)?!n.pointerButtons.includes(t.buttons):n.pointerButtons!==-1&&n.pointerButtons!==t.buttons))return;const r=this.ctrl.setEventIds(t);n.pointerCapture&&t.target.setPointerCapture(t.pointerId),!(r&&r.size>1&&s._pointerActive)&&(this.start(t),this.setupPointer(t),s._pointerId=ht(t),s._pointerActive=!0,this.computeValues(St(t)),this.computeInitial(),n.preventScrollAxis&&zt(t)!=="mouse"?(s._active=!1,this.setupScrollPrevention(t)):n.delay>0?(this.setupDelayTrigger(t),n.triggerAllEvents&&(this.compute(t),this.emit())):this.startPointerDrag(t))}startPointerDrag(t){const n=this.state;n._active=!0,n._preventScroll=!0,n._delayed=!1,this.compute(t),this.emit()}pointerMove(t){const n=this.state,s=this.config;if(!n._pointerActive||n.type===t.type&&t.timeStamp===n.timeStamp)return;const r=ht(t);if(n._pointerId!==void 0&&r!==n._pointerId)return;const i=St(t);if(document.pointerLockElement===t.target?n._delta=[t.movementX,t.movementY]:(n._delta=v.sub(i,n._values),this.computeValues(i)),v.addTo(n._movement,n._delta),this.compute(t),n._delayed&&n.intentional){this.timeoutStore.remove("dragDelay"),n.active=!1,this.startPointerDrag(t);return}if(s.preventScrollAxis&&!n._preventScroll)if(n.axis)if(n.axis===s.preventScrollAxis||s.preventScrollAxis==="xy"){n._active=!1,this.clean();return}else{this.timeoutStore.remove("startPointerDrag"),this.startPointerDrag(t);return}else return;this.emit()}pointerUp(t){this.ctrl.setEventIds(t);try{this.config.pointerCapture&&t.target.hasPointerCapture(t.pointerId)&&t.target.releasePointerCapture(t.pointerId)}catch{}const n=this.state,s=this.config;if(!n._active||!n._pointerActive)return;const r=ht(t);if(n._pointerId!==void 0&&r!==n._pointerId)return;this.state._pointerActive=!1,this.setActive(),this.compute(t);const[i,o]=n._distance;if(n.tap=i<=s.tapsThreshold&&o<=s.tapsThreshold,n.tap&&s.filterTaps)n._force=!0;else{const[a,l]=n.direction,[f,u]=n.velocity,[d,c]=n.movement,[p,_]=s.swipe.velocity,[S,L]=s.swipe.distance,W=s.swipe.duration;n.elapsedTime<W&&(Math.abs(f)>p&&Math.abs(d)>S&&(n.swipe[0]=a),Math.abs(u)>_&&Math.abs(c)>L&&(n.swipe[1]=l))}this.emit()}pointerClick(t){this.state.tap||(t.preventDefault(),t.stopPropagation())}setupPointer(t){const n=this.config,s=n.device;n.pointerLock&&t.currentTarget.requestPointerLock(),n.pointerCapture||(this.eventStore.add(this.sharedConfig.window,s,"change",this.pointerMove.bind(this)),this.eventStore.add(this.sharedConfig.window,s,"end",this.pointerUp.bind(this)),this.eventStore.add(this.sharedConfig.window,s,"cancel",this.pointerUp.bind(this)))}pointerClean(){this.config.pointerLock&&document.pointerLockElement===this.state.currentTarget&&document.exitPointerLock()}preventScroll(t){this.state._preventScroll&&t.cancelable&&t.preventDefault()}setupScrollPrevention(t){this.state._preventScroll=!1,sn(t);const n=this.eventStore.add(this.sharedConfig.window,"touch","change",this.preventScroll.bind(this),{passive:!1});this.eventStore.add(this.sharedConfig.window,"touch","end",n),this.eventStore.add(this.sharedConfig.window,"touch","cancel",n),this.timeoutStore.add("startPointerDrag",this.startPointerDrag.bind(this),this.config.preventScrollDelay,t)}setupDelayTrigger(t){this.state._delayed=!0,this.timeoutStore.add("dragDelay",()=>{this.state._step=[0,0],this.startPointerDrag(t)},this.config.delay)}keyDown(t){const n=It[t.key];if(n){const s=this.state,r=t.shiftKey?10:t.altKey?.1:1;this.start(t),s._delta=n(r),s._keyboardActive=!0,v.addTo(s._movement,s._delta),this.compute(t),this.emit()}}keyUp(t){t.key in It&&(this.state._keyboardActive=!1,this.setActive(),this.compute(t),this.emit())}bind(t){const n=this.config.device;t(n,"start",this.pointerDown.bind(this)),this.config.pointerCapture&&(t(n,"change",this.pointerMove.bind(this)),t(n,"end",this.pointerUp.bind(this)),t(n,"cancel",this.pointerUp.bind(this)),t("lostPointerCapture","",this.pointerUp.bind(this))),t("key","down",this.keyDown.bind(this)),t("key","up",this.keyUp.bind(this)),this.config.filterTaps&&t("click","",this.pointerClick.bind(this),{capture:!0,passive:!1})}}function sn(e){"persist"in e&&typeof e.persist=="function"&&e.persist()}const $=typeof window!="undefined"&&window.document&&window.document.createElement;function rn(){return $&&"ontouchstart"in window}function xt(){return rn()||$&&window.navigator.maxTouchPoints>1}function on(){return $&&"onpointerdown"in window}function an(){return $&&"exitPointerLock"in window.document}function cn(){try{return"constructor"in GestureEvent}catch{return!1}}const O={isBrowser:$,gesture:cn(),touch:xt(),touchscreen:xt(),pointer:on(),pointerLock:an()},un=250,fn=180,ln=.5,hn=50,dn=250,Ct={mouse:0,touch:0,pen:8},pn=g(g({},X),{},{device(e,t,{pointer:{touch:n=!1,lock:s=!1,mouse:r=!1}={}}){return this.pointerLock=s&&O.pointerLock,O.touch&&n?"touch":this.pointerLock?"mouse":O.pointer&&!r?"pointer":O.touch?"touch":"mouse"},preventScrollAxis(e,t,{preventScroll:n}){if(this.preventScrollDelay=typeof n=="number"?n:n||n===void 0&&e?un:void 0,!(!O.touchscreen||n===!1))return e||(n!==void 0?"y":void 0)},pointerCapture(e,t,{pointer:{capture:n=!0,buttons:s=1}={}}){return this.pointerButtons=s,!this.pointerLock&&this.device==="pointer"&&n},threshold(e,t,{filterTaps:n=!1,tapsThreshold:s=3,axis:r=void 0}){const i=v.toVector(e,n?s:r?1:0);return this.filterTaps=n,this.tapsThreshold=s,i},swipe({velocity:e=ln,distance:t=hn,duration:n=dn}={}){return{velocity:this.transform(v.toVector(e)),distance:this.transform(v.toVector(t)),duration:n}},delay(e=0){switch(e){case!0:return fn;case!1:return 0;default:return e}},axisThreshold(e){return e?g(g({},Ct),e):Ct}});g(g({},Gt),{},{device(e,t,{shared:n,pointer:{touch:s=!1}={}}){if(n.target&&!O.touch&&O.gesture)return"gesture";if(O.touch&&s)return"touch";if(O.touchscreen){if(O.pointer)return"pointer";if(O.touch)return"touch"}},bounds(e,t,{scaleBounds:n={},angleBounds:s={}}){const r=o=>{const a=Ot(it(n,o),{min:-1/0,max:1/0});return[a.min,a.max]},i=o=>{const a=Ot(it(s,o),{min:-1/0,max:1/0});return[a.min,a.max]};return typeof n!="function"&&typeof s!="function"?[r(),i()]:o=>[r(o),i(o)]},threshold(e,t,n){return this.lockDirection=n.axis==="lock",v.toVector(e,this.lockDirection?[.1,3]:0)},modifierKey(e){return e===void 0?"ctrlKey":e}});g(g({},X),{},{mouseOnly:(e=!0)=>e});class mn extends Ht{constructor(...t){super(...t),A(this,"ingKey","wheeling")}wheel(t){this.state._active||this.start(t),this.wheelChange(t),this.timeoutStore.add("wheelEnd",this.wheelEnd.bind(this))}wheelChange(t){const n=this.state;n._delta=Ne(t),v.addTo(n._movement,n._delta);const[s,r]=n.overflow,[i,o]=n._delta,[a,l]=n._direction;(s<0&&i>0&&a<0||s>0&&i<0&&a>0)&&(n._movement[0]=n._movementBound[0]),(r<0&&o>0&&l<0||r>0&&o<0&&l>0)&&(n._movement[1]=n._movementBound[1]),this.compute(t),this.emit()}wheelEnd(){!this.state._active||(this.state._active=!1,this.compute(),this.emit())}bind(t){t("wheel","",this.wheel.bind(this))}}const gn=X;g(g({},X),{},{mouseOnly:(e=!0)=>e});const Nt=new Map,pt=new Map;function Ft(e){Nt.set(e.key,e.engine),pt.set(e.key,e.resolver)}const _n={key:"drag",engine:nn,resolver:pn},yn={key:"wheel",engine:mn,resolver:gn};function bn(e,t){if(e==null)return{};var n={},s=Object.keys(e),r,i;for(i=0;i<s.length;i++)r=s[i],!(t.indexOf(r)>=0)&&(n[r]=e[r]);return n}function vn(e,t){if(e==null)return{};var n=bn(e,t),s,r;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)s=i[r],!(t.indexOf(s)>=0)&&(!Object.prototype.propertyIsEnumerable.call(e,s)||(n[s]=e[s]))}return n}const wn={target(e){if(e)return()=>"current"in e?e.current:e},enabled(e=!0){return e},window(e=O.isBrowser?window:void 0){return e},eventOptions({passive:e=!0,capture:t=!1}={}){return{passive:e,capture:t}},transform(e){return e}},En=["target","eventOptions","window","enabled","transform"];function rt(e={},t){const n={};for(const[s,r]of Object.entries(t))switch(typeof r){case"function":n[s]=r.call(n,e[s],s,e);break;case"object":n[s]=rt(e[s],r);break;case"boolean":r&&(n[s]=e[s]);break}return n}function Tn(e,t){const n=e,{target:s,eventOptions:r,window:i,enabled:o,transform:a}=n,l=vn(n,En),f={shared:rt({target:s,eventOptions:r,window:i,enabled:o,transform:a},wn)};if(t){const u=pt.get(t);f[t]=rt(g({shared:f.shared},l),u)}else for(const u in l){const d=pt.get(u);d&&(f[u]=rt(g({shared:f.shared},l[u]),d))}return f}class Zt{constructor(t,n){A(this,"_listeners",new Set),this._ctrl=t,this._gestureKey=n}add(t,n,s,r,i){const o=this._listeners,a=ze(n,s),l=this._gestureKey?this._ctrl.config[this._gestureKey].eventOptions:{},f=g(g({},l),i);t.addEventListener(a,r,f);const u=()=>{t.removeEventListener(a,r,f),o.delete(u)};return o.add(u),u}clean(){this._listeners.forEach(t=>t()),this._listeners.clear()}}class An{constructor(){A(this,"_timeouts",new Map)}add(t,n,s=140,...r){this.remove(t),this._timeouts.set(t,window.setTimeout(n,s,...r))}remove(t){const n=this._timeouts.get(t);n&&window.clearTimeout(n)}clean(){this._timeouts.forEach(t=>void window.clearTimeout(t)),this._timeouts.clear()}}class Sn{constructor(t){A(this,"gestures",new Set),A(this,"_targetEventStore",new Zt(this)),A(this,"gestureEventStores",{}),A(this,"gestureTimeoutStores",{}),A(this,"handlers",{}),A(this,"config",{}),A(this,"pointerIds",new Set),A(this,"touchIds",new Set),A(this,"state",{shared:{shiftKey:!1,metaKey:!1,ctrlKey:!1,altKey:!1}}),Dn(this,t)}setEventIds(t){if(at(t))return this.touchIds=new Set(Ge(t)),this.touchIds;if("pointerId"in t)return t.type==="pointerup"||t.type==="pointercancel"?this.pointerIds.delete(t.pointerId):t.type==="pointerdown"&&this.pointerIds.add(t.pointerId),this.pointerIds}applyHandlers(t,n){this.handlers=t,this.nativeHandlers=n}applyConfig(t,n){this.config=Tn(t,n)}clean(){this._targetEventStore.clean();for(const t of this.gestures)this.gestureEventStores[t].clean(),this.gestureTimeoutStores[t].clean()}effect(){return this.config.shared.target&&this.bind(),()=>this._targetEventStore.clean()}bind(...t){const n=this.config.shared,s={};let r;if(!(n.target&&(r=n.target(),!r))){if(n.enabled){for(const o of this.gestures){const a=this.config[o],l=Mt(s,a.eventOptions,!!r);if(a.enabled){const f=Nt.get(o);new f(this,t,o).bind(l)}}const i=Mt(s,n.eventOptions,!!r);for(const o in this.nativeHandlers)i(o,"",a=>this.nativeHandlers[o](g(g({},this.state.shared),{},{event:a,args:t})),void 0,!0)}for(const i in s)s[i]=qe(...s[i]);if(!r)return s;for(const i in s){const{device:o,capture:a,passive:l}=Ve(i);this._targetEventStore.add(r,o,"",s[i],{capture:a,passive:l})}}}}function U(e,t){e.gestures.add(t),e.gestureEventStores[t]=new Zt(e,t),e.gestureTimeoutStores[t]=new An}function Dn(e,t){t.drag&&U(e,"drag"),t.wheel&&U(e,"wheel"),t.scroll&&U(e,"scroll"),t.move&&U(e,"move"),t.pinch&&U(e,"pinch"),t.hover&&U(e,"hover")}const Mt=(e,t,n)=>(s,r,i,o={},a=!1)=>{var l,f;const u=(l=o.capture)!==null&&l!==void 0?l:t.capture,d=(f=o.passive)!==null&&f!==void 0?f:t.passive;let c=a?s:Ue(s,r,u);n&&d&&(c+="Passive"),e[c]=e[c]||[],e[c].push(i)};function kn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Lt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,s)}return n}function nt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Lt(Object(n),!0).forEach(function(s){kn(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Lt(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}class qt{constructor(t,n,s,r,i){this._target=t,this._gestureKey=r,this._ctrl=new Sn(n),this._ctrl.applyHandlers(n,i),this._ctrl.applyConfig(nt(nt({},s),{},{target:t}),r),this._ctrl.effect()}destroy(){this._ctrl.clean()}setConfig(t){this._ctrl.clean(),this._ctrl.applyConfig(nt(nt({},t),{},{target:this._target}),this._gestureKey),this._ctrl.effect()}}const On=function(t,n,s){return Ft(_n),new qt(t,{drag:n},s||{},"drag")},Pn=function(t,n,s){return Ft(yn),new qt(t,{wheel:n},s||{},"wheel")};var J=typeof Float32Array!="undefined"?Float32Array:Array;Math.hypot||(Math.hypot=function(){for(var e=0,t=arguments.length;t--;)e+=arguments[t]*arguments[t];return Math.sqrt(e)});function Rt(){var e=new J(6);return J!=Float32Array&&(e[1]=0,e[2]=0,e[4]=0,e[5]=0),e[0]=1,e[3]=1,e}function ss(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=0,e[5]=0,e}function rs(e,t,n){var s=t[0],r=t[1],i=t[2],o=t[3],a=t[4],l=t[5],f=n[0],u=n[1],d=n[2],c=n[3],p=n[4],_=n[5];return e[0]=s*f+i*u,e[1]=r*f+o*u,e[2]=s*d+i*c,e[3]=r*d+o*c,e[4]=s*p+i*_+a,e[5]=r*p+o*_+l,e}function Kt(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=t[1],e[4]=0,e[5]=0,e}function ot(){var e=new J(2);return J!=Float32Array&&(e[0]=0,e[1]=0),e}function N(e,t){var n=new J(2);return n[0]=e,n[1]=t,n}function In(e,t){return e[0]=t[0],e[1]=t[1],e}function Y(e,t,n){return e[0]=t,e[1]=n,e}function Wt(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e}function xn(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e}function is(e,t,n){var s=t[0],r=t[1];return e[0]=n[0]*s+n[2]*r,e[1]=n[1]*s+n[3]*r,e}function Cn(e,t,n){var s=t[0],r=t[1];return e[0]=n[0]*s+n[2]*r+n[4],e[1]=n[1]*s+n[3]*r+n[5],e}var Bt=xn;(function(){var e=ot();return function(t,n,s,r,i,o){var a,l;for(n||(n=2),s||(s=0),r?l=Math.min(r*n+s,t.length):l=t.length,a=s;a<l;a+=n)e[0]=t[a],e[1]=t[a+1],i(e,e,o),t[a]=e[0],t[a+1]=e[1];return t}})();var Jt=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},ct={exports:{}},q={exports:{}};(function(){var e,t,n,s,r,i;typeof performance!="undefined"&&performance!==null&&performance.now?q.exports=function(){return performance.now()}:typeof process!="undefined"&&process!==null&&process.hrtime?(q.exports=function(){return(e()-r)/1e6},t=process.hrtime,e=function(){var o;return o=t(),o[0]*1e9+o[1]},s=e(),i=process.uptime()*1e9,r=s-i):Date.now?(q.exports=function(){return Date.now()-n},n=Date.now()):(q.exports=function(){return new Date().getTime()-n},n=new Date().getTime())}).call(Jt);var Mn=q.exports,M=typeof window=="undefined"?Jt:window,st=["moz","webkit"],V="AnimationFrame",z=M["request"+V],Q=M["cancel"+V]||M["cancelRequest"+V];for(var F=0;!z&&F<st.length;F++)z=M[st[F]+"Request"+V],Q=M[st[F]+"Cancel"+V]||M[st[F]+"CancelRequest"+V];if(!z||!Q){var dt=0,jt=0,B=[],Ln=1e3/60;z=function(e){if(B.length===0){var t=Mn(),n=Math.max(0,Ln-(t-dt));dt=n+t,setTimeout(function(){var s=B.slice(0);B.length=0;for(var r=0;r<s.length;r++)if(!s[r].cancelled)try{s[r].callback(dt)}catch(i){setTimeout(function(){throw i},0)}},Math.round(n))}return B.push({handle:++jt,callback:e,cancelled:!1}),jt},Q=function(e){for(var t=0;t<B.length;t++)B[t].handle===e&&(B[t].cancelled=!0)}}ct.exports=function(e){return z.call(M,e)};var Rn=ct.exports.cancel=function(){Q.apply(M,arguments)};ct.exports.polyfill=function(e){e||(e=M),e.requestAnimationFrame=z,e.cancelAnimationFrame=Q};var Ut=ct.exports;function Kn(e){let t,n,s,r,i,o,a,l,f;const u=e[26].default,d=Te(u,e,e[25],null);return{c(){t=Ae("div"),n=yt("svg"),s=yt("g"),d&&d.c(),this.h()},l(c){t=Se(c,"DIV",{class:!0,style:!0});var p=lt(t);n=bt(p,"svg",{width:!0,height:!0,viewBox:!0,preserveAspectRatio:!0,style:!0});var _=lt(n);s=bt(_,"g",{transform:!0});var S=lt(s);d&&d.l(S),S.forEach(tt),_.forEach(tt),p.forEach(tt),this.h()},h(){k(s,"transform",r=`matrix(${e[8](1)},${0},${0},${e[7](1)},${0},${0})`),k(n,"width",e[3]),k(n,"height",e[4]),k(n,"viewBox",i=`${-e[6](0)} ${-e[5](0)} ${e[3]} ${e[4]}`),k(n,"preserveAspectRatio","xMidYMin"),k(n,"style",o=`width: ${e[0]}; height: ${e[1]};`),k(t,"class","scene svelte-1cdr2kz"),k(t,"style",a=`width: ${e[11]}; height: ${e[10]}; touch-action: ${e[2]?"none":"auto"};`),De(()=>e[28].call(t))},m(c,p){ke(c,t,p),vt(t,n),vt(n,s),d&&d.m(s,null),e[27](t),l=Oe(t,e[28].bind(t)),f=!0},p(c,p){d&&d.p&&(!f||p[0]&33554432)&&Pe(d,u,c,c[25],f?xe(u,c[25],p,null):Ie(c[25]),null),(!f||p[0]&384&&r!==(r=`matrix(${c[8](1)},${0},${0},${c[7](1)},${0},${0})`))&&k(s,"transform",r),(!f||p[0]&8)&&k(n,"width",c[3]),(!f||p[0]&16)&&k(n,"height",c[4]),(!f||p[0]&120&&i!==(i=`${-c[6](0)} ${-c[5](0)} ${c[3]} ${c[4]}`))&&k(n,"viewBox",i),(!f||p[0]&3&&o!==(o=`width: ${c[0]}; height: ${c[1]};`))&&k(n,"style",o),(!f||p[0]&3076&&a!==(a=`width: ${c[11]}; height: ${c[10]}; touch-action: ${c[2]?"none":"auto"};`))&&k(t,"style",a)},i(c){f||(Ce(d,c),f=!0)},o(c){Me(d,c),f=!1},d(c){c&&tt(t),d&&d.d(c),e[27](null),l()}}}const Z=ot();function Wn(e){if(typeof e.detail=="number"&&e.detail!==0){if(e.detail>0)return-1;if(e.detail<0)return 1}else if(typeof e.wheelDelta=="number"){if(e.wheelDelta<0)return-1;if(e.wheelDelta>0)return 1}}const Bn=E(),jn=E(),Un=E(),Yn=E(),Vn=E(),zn=E(),Xn=E(),Hn=E(),Gn=E(),Nn=E(),Fn=E(),Zn=E(),qn=E(),Jn=E(),Qn=E(),Qt=E();function os(e){const t=Yt(Qt);t.push(e),be(()=>{const n=t.indexOf(e);n>=0&&t.splice(n,1)})}function $n(e,t,n){let s,r,i,o,a,l,f,u,d,{$$slots:c={},$$scope:p}=t,{width:_=500}=t,{height:S=500}=t,{pan:L=!0}=t,{zoom:W=!0}=t,{zoomAmount:D=1}=t,P=typeof _=="number"?_:500,I=typeof S=="number"?S:500,y=N(D*-.5,D*.5),m=N(D*-.5,D*.5),R=N(0,0),x=N(y[0],m[0]),K=N(y[1],m[1]),C=ot(),H=Rt(),j=Rt();const mt=[];let ut;function gt(h){for(const b of mt)b(h);ut=Ut(gt)}w(Qt,mt);const $t=w(Nn,T(x)),te=w(Fn,T(K)),ee=w(Zn,T(P)),ne=w(qn,T(I)),se=w(Bn,T(D)),re=w(jn,T(a)),ie=w(Un,T(l)),oe=w(Yn,T(f)),ae=w(Vn,T(u)),ce=w(zn,T(C)),ue=w(Xn,T(H)),fe=w(Hn,T(j)),le=w(Gn,T(d)),he=w(Jn,T(i)),de=w(Qn,T(o));let G,ft=ot();function pe(h){if(!L)return;const b=Cn(Z,h.movement,j);h.first&&(ft=In(ft,R)),b[1]=-b[1],n(16,R=Bt(R,ft,b))}function me(h){if(!W||h.last)return;const b=Wn(h.event);b&&(D>=3||b<0)&&(n(14,y=Y(y,y[0]+b,y[1]-b)),n(15,m=Y(m,m[0]+b,m[1]-b)),n(12,D=Math.min(y[1]-y[0],m[1]-m[0])))}Le(()=>{const h=new On(G,pe),b=new Pn(G,me);return ut=Ut(gt),()=>{h.destroy(),b.destroy(),Rn(ut)}});function ge(h){Re[h?"unshift":"push"](()=>{G=h,n(9,G)})}function _e(){P=this.offsetWidth,I=this.offsetHeight,n(3,P),n(4,I)}return e.$$set=h=>{"width"in h&&n(0,_=h.width),"height"in h&&n(1,S=h.height),"pan"in h&&n(2,L=h.pan),"zoom"in h&&n(13,W=h.zoom),"zoomAmount"in h&&n(12,D=h.zoomAmount),"$$scope"in h&&n(25,p=h.$$scope)},e.$$.update=()=>{if(e.$$.dirty[0]&1&&n(11,s=_==="auto"?"100%":`${_}px`),e.$$.dirty[0]&2&&n(10,r=S==="auto"?"100%":`${S}px`),e.$$.dirty[0]&4120){const h=P/I,b=D*.5,ye=D*h,_t=ye*.5;n(14,y[0]=-_t,y),n(14,y[1]=_t,y),n(15,m[0]=-b,m),n(15,m[1]=b,m)}e.$$.dirty[0]&245760&&n(17,x=Wt(x,R,Y(Z,y[0],m[0]))),e.$$.dirty[0]&376832&&n(18,K=Wt(K,R,Y(Z,y[1],m[1]))),e.$$.dirty[0]&393224&&n(6,i=h=>(h-x[0])/(K[0]-x[0])*P),e.$$.dirty[0]&393232&&n(5,o=h=>(h-x[1])/(K[1]-x[1])*I),e.$$.dirty[0]&917504&&n(19,C=Bt(C,K,x)),e.$$.dirty[0]&524296&&n(8,a=h=>h/C[0]*P),e.$$.dirty[0]&524304&&n(7,l=h=>-h/C[1]*I),e.$$.dirty[0]&524296&&n(24,f=h=>h/P*C[0]),e.$$.dirty[0]&524304&&n(23,u=h=>-h/I*C[1]),e.$$.dirty[0]&1048960&&n(20,H=Kt(H,Y(Z,a(1),l(1)))),e.$$.dirty[0]&27262976&&n(21,j=Kt(j,Y(Z,f(1),u(1)))),e.$$.dirty[0]&384&&n(22,d=`scale(${a(1)} ${l(1)})`),e.$$.dirty[0]&131072&&$t.set(x),e.$$.dirty[0]&262144&&te.set(K),e.$$.dirty[0]&8&&ee.set(P),e.$$.dirty[0]&16&&ne.set(I),e.$$.dirty[0]&4096&&se.set(D),e.$$.dirty[0]&256&&re.set(a),e.$$.dirty[0]&128&&ie.set(l),e.$$.dirty[0]&16777216&&oe.set(f),e.$$.dirty[0]&8388608&&ae.set(u),e.$$.dirty[0]&524288&&ce.set(C),e.$$.dirty[0]&1048576&&ue.set(H),e.$$.dirty[0]&2097152&&fe.set(j),e.$$.dirty[0]&4194304&&le.set(d),e.$$.dirty[0]&64&&he.set(i),e.$$.dirty[0]&32&&de.set(o)},[_,S,L,P,I,o,i,l,a,G,r,s,D,W,y,m,R,x,K,C,H,j,d,u,f,p,c,ge,_e]}class as extends ve{constructor(t){super(),we(this,t,$n,Kn,Ee,{width:0,height:1,pan:2,zoom:13,zoomAmount:12},null,[-1,-1])}}export{J as A,On as D,Hn as I,Nn as M,as as S,Rt as a,E as b,ot as c,jn as d,Un as e,N as f,ns as g,Fn as h,ss as i,is as j,In as k,Wt as l,rs as m,os as o,Y as s,Cn as t};
